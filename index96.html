<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive 3D Box with Independent Faces</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #000;
        }
        .scene {
            width: 100vw;
            height: 100vh;
            perspective: 1500px;
        }
        .box {
            position: relative;
            width: 175%;
            height: 175%;
            transform-style: preserve-3d;
            transform: rotateX(0deg) rotateY(180deg);
            transition: transform 1s;
            margin-left: -37.5%;
            margin-top: -21.5%;
        }
        .face {
            position: absolute;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            font-weight: bold;
            color: white;
            border: 1px solid #000;
            transform: scaleX(-1); 
        }
        .content { 
            transform: rotateX(0deg) rotateY(0deg); /* 保持内容竖立 */
        }
        #front { transform: rotateY(0deg) translateZ(1500px) scaleX(-1); background-image: url('glass.jpg'); }
        #back { transform: rotateY(180deg) translateZ(1500px) scaleX(-1); background-image: url('shrtskin0001.gif'); } 
        #left { transform: rotateY(-90deg) translateZ(1500px) scaleX(-1); background-image: url('sea.jpg'); }
        #right { transform: rotateY(90deg) translateZ(1500px) scaleX(-1); background-image: url('jellyfish.jpg'); }
        #top { transform: rotateX(90deg) translateZ(1500px) scaleX(-1); background-image: url(''); }
        #bottom { transform: rotateX(-90deg) translateZ(1500px) scaleX(-1); background-image: url(''); }


#top .content, 
#bottom .content {
    border-radius: 50%; /* 将形状变为圆形 */
    overflow: hidden; /* 防止内容溢出 */
}

        .arrow {
            position: absolute;
            width: 50px;
            height: 50px;
            background-color: rgba(255, 255, 255, 0.7);
            color: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            cursor: pointer;
            z-index: 10;
            border-radius: 50%;
        }
        #arrow-up { top: 10px; left: 50%; transform: translateX(-50%); }
        #arrow-down { bottom: 10px; left: 50%; transform: translateX(-50%); }
        #arrow-left { top: 50%; left: 10px; transform: translateY(-50%); }
        #arrow-right { top: 50%; right: 10px; transform: translateY(-50%); }
        #clock {
            position: fixed;
            top: 10px;
            right: 10px;
            background-color: rgba(0, 0, 0, 0.5);
            padding: 10px;
            border-radius: 8px;
            color: #fff;
            font-size: 18px;
            z-index: 20;
        }
    </style>
</head>
<body>
    <div class="scene">
        <div class="box" id="box">
            <div id="front" class="face"><div class="content"><iframe id="iframe-front" frameborder="0" style="width: 3000px; height: 1700px;"></iframe></div></div>
            <div id="back" class="face"><div class="content"><iframe id="iframe-back" frameborder="50" style="width: 3000px; height: 1700px;"></iframe></div></div>
            <div id="left" class="face"><div class="content"><iframe id="iframe-left" frameborder="50" style="width: 3000px; height: 1700px;"></iframe></div></div>
            <div id="right" class="face"><div class="content"><iframe id="iframe-right" frameborder="50" style="width: 3000px; height: 1700px;"></iframe></div></div>
            <div id="top" class="face"><div class="content"><iframe id="iframe-top" frameborder="50" style="width: 3000px; height: 1700px;"></iframe></div></div>
            <div id="bottom" class="face"><div class="content"><iframe id="iframe-bottom" frameborder="50" style="width: 3000px; height: 1700px;"></iframe></div></div>
        </div>
    </div>
    
    <div id="arrow-up" class="arrow">↑</div>
    <div id="arrow-down" class="arrow">↓</div>
    <div id="arrow-left" class="arrow">←</div>
    <div id="arrow-right" class="arrow">→</div>
    
    <div id="clock">9:00 AM | Clicks: 0</div>

    <audio id="sound1" src="water-splash-199583.mp3"></audio>
    <audio id="sound2" src="wine-glass-clink-36036.mp3"></audio>


    
    
    <script>
        let xRotation = 0;
        let yRotation = 180;
        let clicks = 0;
        let hours = 9;
        const maxScenes = 2;
        let sceneIndex = 0;

        const box = document.getElementById('box');
        const clock = document.getElementById('clock');
        const sound1 = document.getElementById('sound1');
        const sound2 = document.getElementById('sound2');

        const updateClock = () => {
            clicks++;
            
            if (clicks > 24) {
                clicks = 0; // 重置点击次数
                hours = 9;  // 重置时间到AM 9点
                sceneIndex = 0; // 重置到第一个场景
                updateScene(); // 更新场景
            } else {
                hours = (hours % 24) + 1; // 正常更新时间
                if (clicks % 12 === 0) {
                    sceneIndex = (sceneIndex + 1) % maxScenes;
                    updateScene();
                }
            }

            const period = hours < 12 ? 'AM' : 'PM';
            console.log(period);
            console.log(hours);
            console.log(clicks);
            const displayHours = hours % 12 === 0 ? 12 : hours % 12;
            clock.textContent = `${displayHours}:00 ${period} | Clicks: ${clicks}`;
        };

        const updateScene = () => {
            const frontIframe = document.getElementById('iframe-front');
            const backIframe = document.getElementById('iframe-back');
            const leftIframe = document.getElementById('iframe-left');
            const rightIframe = document.getElementById('iframe-right');
            const topIframe = document.getElementById('iframe-top');
            const bottomIframe = document.getElementById('iframe-bottom');

            if (sceneIndex === 0) {
                frontIframe.src = 'Front Face/front.html';
                backIframe.src = 'spider.html';
                leftIframe.src = 'Right Face/index97.html';
                rightIframe.src = 'Left Face/puzzle.html';
                topIframe.src = 'Top Face/Top.html';
                bottomIframe.src = 'Bottom Face/Bottom.html';
            } else {
                frontIframe.src = 'F face/F.html';
                backIframe.src = 'Ba Face/Ba.html';
                leftIframe.src = 'R face/R.html';
                rightIframe.src = 'Left Face/puzzle.html';
                topIframe.src = 'T Face/T.html';
                bottomIframe.src = 'Bo Face/Bo.html';
            }
        };

        // 修改的地方：根据clicks的值选择播放sound1或sound2
        const playSound = () => {
            const sound = clicks <= 12 ? sound1 : sound2; // 判断播放哪个音效
            const newSound = sound.cloneNode(); // 克隆一个新的音频节点
            newSound.play(); // 播放克隆的音效
        };


        const rotateBox = () => { // 自动调整角度             
            if (xRotation < -90) xRotation = -90;
            if (xRotation > 90) xRotation = 90;
            if (yRotation < 0) yRotation = (yRotation + 360) % 360;
            // 计算旋转方向             
            const rotationX = Math.round(xRotation / 90) * 90;
            const rotationY = Math.round(yRotation / 90) * 90;
            box.style.transform = `rotateX(${rotationX}deg) rotateY(${rotationY}deg)`;
        }; 

        const handleArrowUp = () => { // 监听用户点击事件
            xRotation += 90;
            rotateBox();
            updateClock();
            playSound(sound1);
        };

        const handleArrowDown = () => {
            xRotation -= 90;
            rotateBox();
            updateClock();
            playSound(sound2);
        };

        const handleArrowLeft = () => {
            yRotation -= 90;
            rotateBox();
            updateClock();
            playSound(sound1);
        };

        const handleArrowRight = () => {
            yRotation += 90;
            rotateBox();
            updateClock();
            playSound(sound2);
        };

        document.getElementById('arrow-up').addEventListener('click', handleArrowUp);
        document.getElementById('arrow-down').addEventListener('click', handleArrowDown);
        document.getElementById('arrow-left').addEventListener('click', handleArrowLeft);
        document.getElementById('arrow-right').addEventListener('click', handleArrowRight);
        
        // 初始化时显示第一个场景
        updateScene();
    </script>
</body>
</html>
